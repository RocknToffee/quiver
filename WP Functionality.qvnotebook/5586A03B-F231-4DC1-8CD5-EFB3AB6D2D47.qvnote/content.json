{
  "title": "Sponsors",
  "cells": [
    {
      "type": "text",
      "data": "This will allow you to quickly set up a sponsor type with the ability to choose sponsor type, event type, image, text, CTA and CTA Link.<div><br></div><div><b>N.B Remember to set up your Sponsor post type and edit the php to reflect it</b></div>"
    },
    {
      "type": "text",
      "data": "PHP CODE"
    },
    {
      "type": "code",
      "language": "php",
      "data": "if( function_exists('acf_add_local_field_group') ):\n\n    acf_add_local_field_group(array (\n        'key' => 'sponsor_special',\n        'title' => 'Sponsor Url',\n        \n        'fields' => array (\n          array(\n                           'key' => 'field_sponsor_select',\n                           'label' => 'Select Sponsor Type',\n                           'name' => 'sponsor_select',\n                           'type' => 'select',\n                           'instructions' => '',\n                           'required' => 0,\n                           'conditional_logic' => 0,\n                           'wrapper' => array(\n                               'width' => '',\n                               'class' => '',\n                               'id' => '',\n                           ),\n                           'choices' => array(\n                               'title_sponsor' => 'Title Sponsor',\n                               'category_sponsor' => 'Category Sponsor',\n                               'official_partner' => 'Official Partner',\n                               'official_charity' => 'Official Charity',\n\n                           ),\n                           'default_value' => array(),\n                           'allow_null' => 0,\n                           'multiple' => 0,\n                           'ui' => 1,\n                           'ajax' => 0,\n                           'return_format' => 'value',\n                           'placeholder' => '',\n                        ),\n\n                  array(\n                           'key' => 'field_event_select',\n                           'label' => 'Select Event',\n                           'name' => 'event_select',\n                           'type' => 'select',\n                           'instructions' => '',\n                           'required' => 0,\n                           'conditional_logic' => 0,\n                           'wrapper' => array(\n                               'width' => '',\n                               'class' => '',\n                               'id' => '',\n                           ),\n                           'choices' => array(\n                               'both' => 'Both',\n                               'london_triathlon' => 'London Triathlon',\n                               'blenheim_triathlon' => 'Blenheim Triathlon',\n\n\n                           ),\n                           'default_value' => array(),\n                           'allow_null' => 0,\n                           'multiple' => 0,\n                           'ui' => 1,\n                           'ajax' => 0,\n                           'return_format' => 'value',\n                           'placeholder' => '',\n                        ),\n\n\n\n           array(\n                            'key' => 'field_spon_image',\n                            'label' => 'Image',\n                            'name' => 'image',\n                            'type' => 'image',\n                            'return_format' => 'id'\n                        ),\n\n           array(\n              'key' => 'field_spon_text1',\n              'label' => 'Text Editor',\n              'name' => 'text1',\n              'type' => 'wysiwyg',\n              'instructions' => '',\n              'required' => 0,\n              'conditional_logic' => 0,\n              'wrapper' => array(\n                  'width' => '',\n                  'class' => '',\n                  'id' => '',\n              ),\n              'default_value' => '',\n              'tabs' => 'all',\n              'toolbar' => 'full',\n              'media_upload' => 1,\n          ),\n\n          array(\n              'key' => 'field_spon_text_cta',\n              'name' => 'cta_text',\n              'label' => 'CTA Text',\n              'default_value' => 'Text',\n              'type' => 'text',\n              'toolbar' => 'full',\n              'instructions' => '',\n          ),\n\n          array(\n              'key' => 'field_spon_page_cta_link',\n              'label' => 'CTA Link',\n              'name' => 'cta_link',\n              'default_value' => 'Text',\n              'type' => 'text',\n              'toolbar' => 'full',\n              'instructions' => '',\n          \n          ),\n\n          ),\n        \n        'location' => array (\n\n            array(\n                array(\n                    'param' => 'post_type',\n                    'operator' => '==',\n                    'value' => 'our_sponsors',\n                ),\n            ),\n\n    ),\n        \n        'hide_on_screen' => array(\n            'the_content'\n        ),\n        \n        'menu_order' => 0,\n        'position' => 'normal',\n        'style' => 'default',\n        'label_placement' => 'top',\n        'instruction_placement' => 'label',\n        'active' => 1,\n        'description' => '',\n\n    ));\n\nendif;\n"
    },
    {
      "type": "text",
      "data": "PHP to OUTPUT the ACF"
    },
    {
      "type": "code",
      "language": "php",
      "data": "<section class=\"sponsors\"> \n\n  <div class=\"inner_wrapper\">\n        <div class=\"block  intro\">\n    <h3><?php the_title(); ?></h3>\n      <?php the_content(); ?> \n      </div>\n      </div>\n\n    <div class=\"inner_wrapper\">\n        <div class=\"block  \">\n\n\n                <?php\n                $args = array(  'post_type' => 'our_sponsors', 'posts_per_page' => 50);\n\n\n                $sponsor_posts = get_posts( $args );\n                \n                foreach( $sponsor_posts as $sponsor ){\n                  \n                    $image = wp_get_attachment_image_src( get_post_thumbnail_id( $sponsor->ID ), 'spon' );\n            \n                \n            ?> \n            \n\n           <div class=\"block twentyfive  \" id=\"<?php echo $sponsor->ID ?>\" >\n\t\t                    <img src=\"<?php echo $image[0];  ?>\"/>\n\t\t                        \t\t</div>\n\t\t                        \t\t<div class=\"block seventyfive \">\n\t\t                           \t\t\t<?php echo wpautop($sponsor->text1); ?>\n\t\t                           \t\t\n\t\t                           \t\t\t\t<a href=\"<?php echo $sponsor->cta_link; ?>\" class=\"cta3\" target=\"_blank\"><?php echo $sponsor->cta_text; ?></a>\n\t\t                           \t\t\t\n\t\t                            \t\t\n\t\t                       \t\t\t</div> \n <?php }\n                wp_reset_query(); ?>\n        </div>\n    </div>   \n</section>"
    }
  ]
}